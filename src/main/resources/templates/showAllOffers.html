<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head th:replace="head :: head">
    <meta charset="UTF-8"/>
    <title>Title</title>

</head>
<body>
<header th:replace="layout/header :: header"></header>
<nav th:replace="layout/menu :: menu"></nav>
<article class="main-art" id="main-article">
    <h4>Oferty:</h4>
    <h4 th:if="${offersList.isEmpty()}">Lista ofert jest pusta!</h4>
    <table th:if="${!offersList.isEmpty()}">
        <tr class="row">
            <th>Numer</th>
            <th>Opis</th>
            <th>Cena</th>
            <th>Oferta z szablonu</th>
            <th>Nazwa inwestora</th>
            <th>Miasto</th>
            <th>Zafakturowanie</th>
            <th>Pokaż</th>
            <th>Edytuj</th>
            <th>Wystaw fakturę</th>
        </tr>
        <tr class="row">
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th><label for="filter-by-city"></label>
                <input id="filter-by-city"
                       class="input-std"
                       type="text"
                    /></th>

            <th>Zafakturowanie</th>
            <th>Pokaż</th>
            <th>Edytuj</th>
            <th>Wystaw fakturę</th>
        </tr>
        <tr th:each="offer, stat:${offersList}" th:class="${stat.odd} ? 'row odd-row' : 'row even-row' ">
            <td id="offer-id" th:text="${offer.id} + '/' + ${offer.date}"></td>
            <td th:text="${offer.description == null} ? 'brak'"
                th:class="${offer.description == null} ? 'empty-table-cell'"></td>
            <td th:text="${offer.totalPrice}"></td>
            <td th:text="${offer.offerFromTemplate == true} ? 'tak' : 'nie'"></td>
            <td th:text="${offer.investor.name}"></td>
            <td th:text="${offer.investor.city}"></td>
            <td th:text="${offer.invoicing == true} ? 'tak' : 'nie'"
                th:style="${offer.invoicing} ? 'background-color : #10715e ; color : white' : 'background-color : #0aa69a'"></td>
            <td><a th:href="@{'/offers/showOneOffer/'+${offer.id}}">POKAŻ</a></td>
            <td>EDYTUJ</td>
            <td>
                <form th:action="@{'/invoice/addInvoice'}" method="post">
                    <button name="offerId" th:value="${offer.id}" class="std-btn">DODAJ FV</button>
                </form>
            </td>
        </tr>
    </table>
    <div class="show-preview"></div>
</article>
<footer th:replace="layout/footer :: footer"></footer>
<script src="/scripts/jquery-3.3.1.js"></script>
<script src="/scripts/getPreview.js"></script>
</body>

</html>